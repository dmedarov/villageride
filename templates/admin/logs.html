{% extends "layout.html" %}
{% block content %}
<section class="admin-layout">
  <aside class="admin-nav">
    <h2 class="admin-title">Админ панел</h2>
    <nav>
      <a href="{{ url_for('admin_dashboard') }}" class="admin-link">Табло</a>
      <a href="{{ url_for('admin_rides') }}" class="admin-link">Превози</a>
      <a href="{{ url_for('admin_requests') }}" class="admin-link">Заявки</a>
      <a href="{{ url_for('admin_logs') }}" class="admin-link admin-link-active">Логове</a>
      <a href="{{ url_for('admin_logout') }}" class="admin-link admin-link-exit">Изход</a>
    </nav>
  </aside>

  <section class="admin-main">
    <h1>Логове</h1>
    {% if logs %}
    <div class="table-wrapper">
      <table class="table">
        <thead>
          <tr>
            <th>Време</th>
            <th>Действие</th>
            <th>ID превоз</th>
            <th>ID заявка</th>
            <th>Админ</th>
          </tr>
        </thead>
        <tbody>
          {% for log in logs %}
          <tr>
            <td>{{ log.timestamp }}</td>
            <td>{{ log.action }}</td>
            <td>{{ log.ride_id or '' }}</td>
            <td>{{ log.request_id or '' }}</td>
            <td>{{ log.admin_user or '' }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <p class="empty">Все още няма записани действия.</p>
    {% endif %}
  </section>
</section>
{% endblock %}
